name: dynoman # you probably want to 'snapcraft register <name>'
version: '1.0.0-SNAPSHOT' # just for humans, typically '1.2+git' or '1.3.2'
summary: DynamoDB management UI # 79 char long summary
description: |
  Desktop application to manage and query DynamoDB tables.

grade: devel # must be 'stable' to release into candidate/stable channels
confinement: devmode # use 'strict' once you have the right plugs and slots

architectures:
  - build-on: amd64

apps:
  dynoman:
    command: desktop-launch java -jar $SNAP/dynoman-1.0.0-SNAPSHOT/dynoman-1.0.0-SNAPSHOT-all.jar
    plugs: [network, desktop]

parts:
  dynoman:
    after: [desktop-glib-only]
    plugin: gradle
    source: dynoman
    build: |
      export JAVA_HOME="/usr/lib/jvm/java-8-openjdk-amd64"
    gradle-options: [shadowJar]
    install: |
      cp build/libs/dynoman-1.0.0-SNAPSHOT-all.jar $SNAPCRAFT_PART_INSTALL/
    build-packages:
      - openjdk-8-jdk
